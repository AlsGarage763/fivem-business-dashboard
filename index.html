<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Business Management Dashboard</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: #f5f7fa;
    color: #333;
  }
  header {
    background: #004aad;
    padding: 20px 30px;
    color: white;
    font-weight: 700;
    font-size: 24px;
    letter-spacing: 1.2px;
    text-align: center;
    user-select: none;
  }
  nav {
    display: flex;
    background: #022c65;
    justify-content: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  }
  nav button {
    background: transparent;
    border: none;
    color: #ddd;
    padding: 15px 25px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s, color 0.3s;
    font-weight: 600;
  }
  nav button:hover, nav button.active {
    background: #0066ff;
    color: white;
    border-radius: 4px 4px 0 0;
  }
  main {
    max-width: 900px;
    margin: 30px auto 60px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 8px 25px rgb(0 0 0 / 0.1);
    padding: 30px 40px;
  }
  h2 {
    color: #004aad;
    margin-bottom: 20px;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
  }
  input, select {
    width: 100%;
    padding: 10px 14px;
    margin-top: 6px;
    border: 1.8px solid #ccc;
    border-radius: 6px;
    font-size: 15px;
    transition: border-color 0.3s;
  }
  input:focus, select:focus {
    border-color: #004aad;
    outline: none;
  }
  button {
    margin-top: 20px;
    padding: 12px 25px;
    background: #004aad;
    color: white;
    font-weight: 700;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background: #00337a;
  }
  .log-container {
    margin-top: 25px;
    max-height: 180px;
    overflow-y: auto;
    background: #e9f0ff;
    border-radius: 6px;
    padding: 15px 20px;
    font-family: monospace;
    font-size: 14px;
    color: #003366;
  }
  .log-entry {
    margin-bottom: 6px;
  }
  .flex-row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .half {
    flex: 1;
    min-width: 150px;
  }
  .small-input {
    max-width: 120px;
  }
  .number-output {
    font-weight: 700;
    margin-top: 15px;
    font-size: 18px;
    color: #0055cc;
  }
  .reset-btn {
    background: #cc0000 !important;
  }
  .reset-btn:hover {
    background: #a30000 !important;
  }
  /* Responsive */
  @media (max-width: 600px) {
    nav {
      flex-wrap: wrap;
    }
    nav button {
      flex: 1 1 100%;
      border-radius: 0;
    }
    main {
      margin: 20px 15px 40px;
      padding: 20px;
    }
  }
</style>
</head>
<body>

<header>Business Management Dashboard</header>

<nav>
  <button id="nav-sales" class="active">Sales</button>
  <button id="nav-payroll">Employee Payroll</button>
  <button id="nav-expenses">Expenses</button>
  <button id="nav-profit">Profit</button>
  <button id="nav-employees">Employee Database</button>
</nav>

<main>
  <!-- SALES PAGE -->
  <section id="page-sales">
    <h2>Sales Report</h2>
    <div class="flex-row">
      <input type="number" id="salesAmountInput" placeholder="Enter sale amount ($)" />
      <button id="addSaleBtn">Add Sale</button>
      <button id="resetSalesBtn" class="reset-btn">Reset Sales</button>
    </div>
    <div id="salesLog" class="log-container"></div>
  </section>

  <!-- PAYROLL PAGE -->
  <section id="page-payroll" style="display:none;">
    <h2>Employee Payroll</h2>
    <label for="employeeSelect">Select Employee</label>
    <select id="employeeSelect"></select>

    <label for="logCount">Number of Logs (each log = $500)</label>
    <input type="number" id="logCount" placeholder="Enter logs count" min="1" />

    <button id="addPayrollBtn">Add Payroll Entry</button>
    <button id="resetPayrollBtn" class="reset-btn">Reset Payroll</button>
    <div id="payrollLog" class="log-container"></div>
  </section>

  <!-- EXPENSES PAGE -->
  <section id="page-expenses" style="display:none;">
    <h2>Expenses</h2>
    <label for="expenseDesc">Expense Description</label>
    <input type="text" id="expenseDesc" placeholder="Enter description" />

    <label for="expenseAmount">Expense Amount ($)</label>
    <input type="number" id="expenseAmount" placeholder="Enter amount" min="0.01" step="0.01" />

    <button id="addExpenseBtn">Add Expense</button>
    <button id="resetExpenseBtn" class="reset-btn">Reset Expenses</button>
    <div id="expenseLog" class="log-container"></div>
  </section>

  <!-- PROFIT PAGE -->
  <section id="page-profit" style="display:none;">
    <h2>Profit Calculation</h2>
    <button id="calculateProfitBtn">Calculate Profit</button>
    <button id="resetProfitBtn" class="reset-btn">Reset Profit Logs</button>
    <div id="profitResult" class="number-output"></div>
    <div id="profitLog" class="log-container"></div>
  </section>

  <!-- EMPLOYEE DATABASE PAGE -->
  <section id="page-employees" style="display:none;">
    <h2>Employee Database</h2>
    <form id="employeeForm">
      <div class="flex-row">
        <input type="text" id="empName" placeholder="First Name" required />
        <input type="text" id="empSurname" placeholder="Surname" required />
      </div>

      <label for="empGender">Gender</label>
      <select id="empGender" required>
        <option value="" disabled selected>Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>

      <label for="empHireDate">Hire Date</label>
      <input type="date" id="empHireDate" required />

      <button type="submit">Add Employee to Database</button>
      <button type="button" id="resetEmployeeDBBtn" class="reset-btn" style="margin-left:10px;">Reset Employee DB</button>
    </form>

    <div id="employeeDBLog" class="log-container" style="margin-top:20px;"></div>
  </section>
</main>

<script>
  // Format numbers with commas and 2 decimals
  function formatNumber(num) {
    return num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }

  // Navigation logic
  const navButtons = {
    sales: document.getElementById('nav-sales'),
    payroll: document.getElementById('nav-payroll'),
    expenses: document.getElementById('nav-expenses'),
    profit: document.getElementById('nav-profit'),
    employees: document.getElementById('nav-employees'),
  };

  const pages = {
    sales: document.getElementById('page-sales'),
    payroll: document.getElementById('page-payroll'),
    expenses: document.getElementById('page-expenses'),
    profit: document.getElementById('page-profit'),
    employees: document.getElementById('page-employees'),
  };

  function switchPage(page) {
    Object.values(pages).forEach(p => p.style.display = 'none');
    pages[page].style.display = 'block';
    Object.values(navButtons).forEach(btn => btn.classList.remove('active'));
    navButtons[page].classList.add('active');

    if(page === 'payroll') loadEmployeeSelect();
  }

  Object.entries(navButtons).forEach(([key, btn]) => {
    btn.addEventListener('click', () => switchPage(key));
  });

  // SALES PAGE
  const salesAmountInput = document.getElementById('salesAmountInput');
  const addSaleBtn = document.getElementById('addSaleBtn');
  const resetSalesBtn = document.getElementById('resetSalesBtn');
  const salesLog = document.getElementById('salesLog');

  function loadSales() {
    const sales = JSON.parse(localStorage.getItem('salesLogs') || '[]');
    salesLog.innerHTML = sales.length === 0 ? '<i>No sales recorded yet.</i>' : '';
    sales.forEach(({amount, date}) => {
      salesLog.innerHTML += `<div class="log-entry">${new Date(date).toLocaleString()}: $${formatNumber(amount)}</div>`;
    });
  }

  addSaleBtn.onclick = () => {
    const amount = parseFloat(salesAmountInput.value);
    if (isNaN(amount) || amount <= 0) {
      alert('Enter a valid sale amount');
      return;
    }
    const sales = JSON.parse(localStorage.getItem('salesLogs') || '[]');
    sales.push({ amount, date: new Date().toISOString() });
    localStorage.setItem('salesLogs', JSON.stringify(sales));
    salesAmountInput.value = '';
    loadSales();
  };

  resetSalesBtn.onclick = () => {
    if(confirm('Reset all sales records?')) {
      localStorage.removeItem('salesLogs');
      loadSales();
    }
  };

  // EMPLOYEE DATABASE (for payroll & employee db page)
  function loadEmployeeSelect() {
    const employees = JSON.parse(localStorage.getItem('employeeDB') || '[]');
    const employeeSelect = document.getElementById('employeeSelect');
    employeeSelect.innerHTML = employees.length === 0 ? '<option disabled>No employees found</option>' : '';
    employees.forEach(emp => {
      employeeSelect.innerHTML += `<option value="${emp.name} ${emp.surname}">${emp.name} ${emp.surname}</option>`;
    });
  }

  // PAYROLL PAGE
  const employeeSelect = document.getElementById('employeeSelect');
  const logCountInput = document.getElementById('logCount');
  const addPayrollBtn = document.getElementById('addPayrollBtn');
  const payrollLog = document.getElementById('payrollLog');
  const resetPayrollBtn = document.getElementById('resetPayrollBtn');
  const payrollRate = 500;

  function loadPayroll() {
    const payroll = JSON.parse(localStorage.getItem('payrollLogs') || '[]');
    payrollLog.innerHTML = payroll.length === 0 ? '<i>No payroll records yet.</i>' : '';
    payroll.forEach(({employee, logs, date}) => {
      payrollLog.innerHTML += `<div class="log-entry">${new Date(date).toLocaleString()}: ${employee} - ${logs} logs ($${formatNumber(logs * payrollRate)})</div>`;
    });
  }

  addPayrollBtn.onclick = () => {
    const employee = employeeSelect.value;
    const logs = parseInt(logCountInput.value);
    if (!employee) {
      alert('Please select an employee.');
      return;
    }
    if (isNaN(logs) || logs <= 0) {
      alert('Enter a valid number of logs');
      return;
    }
    const payroll = JSON.parse(localStorage.getItem('payrollLogs') || '[]');
    payroll.push({ employee, logs, date: new Date().toISOString() });
    localStorage.setItem('payrollLogs', JSON.stringify(payroll));
    logCountInput.value = '';
    loadPayroll();
  };

  resetPayrollBtn.onclick = () => {
    if(confirm('Reset all payroll records?')) {
      localStorage.removeItem('payrollLogs');
      loadPayroll();
    }
  };

  // EXPENSES PAGE
  const expenseDescInput = document.getElementById('expenseDesc');
  const expenseAmountInput = document.getElementById('expenseAmount');
  const addExpenseBtn = document.getElementById('addExpenseBtn');
  const expenseLog = document.getElementById('expenseLog');
  const resetExpenseBtn = document.getElementById('resetExpenseBtn');

  function loadExpenses() {
    const expenses = JSON.parse(localStorage.getItem('expenseLogs') || '[]');
    expenseLog.innerHTML = expenses.length === 0 ? '<i>No expenses recorded yet.</i>' : '';
    expenses.forEach(({desc, amount, date}) => {
      expenseLog.innerHTML += `<div class="log-entry">${new Date(date).toLocaleString()}: ${desc} - $${formatNumber(amount)}</div>`;
    });
  }

  addExpenseBtn.onclick = () => {
    const desc = expenseDescInput.value.trim();
    const amount = parseFloat(expenseAmountInput.value);
    if (!desc) {
      alert('Enter an expense description');
      return;
    }
    if (isNaN(amount) || amount <= 0) {
      alert('Enter a valid expense amount');
      return;
    }
    const expenses = JSON.parse(localStorage.getItem('expenseLogs') || '[]');
    expenses.push({ desc, amount, date: new Date().toISOString() });
    localStorage.setItem('expenseLogs', JSON.stringify(expenses));
    expenseDescInput.value = '';
    expenseAmountInput.value = '';
    loadExpenses();
  };

  resetExpenseBtn.onclick = () => {
    if(confirm('Reset all expenses?')) {
      localStorage.removeItem('expenseLogs');
      loadExpenses();
    }
  };

  // PROFIT PAGE
  const calculateProfitBtn = document.getElementById('calculateProfitBtn');
  const profitResultDiv = document.getElementById('profitResult');
  const profitLogDiv = document.getElementById('profitLog');
  const resetProfitBtn = document.getElementById('resetProfitBtn');

  function loadProfitLogs() {
    const profits = JSON.parse(localStorage.getItem('profitLogs') || '[]');
    profitLogDiv.innerHTML = profits.length === 0 ? '<i>No profit records yet.</i>' : '';
    profits.forEach(({profit, date}) => {
      profitLogDiv.innerHTML += `<div class="log-entry">${new Date(date).toLocaleString()}: Profit $${formatNumber(profit)}</div>`;
    });
  }

  calculateProfitBtn.onclick = () => {
    const sales = JSON.parse(localStorage.getItem('salesLogs') || '[]');
    const payroll = JSON.parse(localStorage.getItem('payrollLogs') || '[]');
    const expenses = JSON.parse(localStorage.getItem('expenseLogs') || '[]');

    const totalSales = sales.reduce((acc, s) => acc + s.amount, 0);
    const totalPayroll = payroll.reduce((acc, p) => acc + (p.logs * payrollRate), 0);
    const totalExpenses = expenses.reduce((acc, e) => acc + e.amount, 0);

    const profit = totalSales - totalPayroll - totalExpenses;

    profitResultDiv.textContent = `Total Profit: $${formatNumber(profit)}`;

    // Save profit log
    const profitLogs = JSON.parse(localStorage.getItem('profitLogs') || '[]');
    profitLogs.push({ profit, date: new Date().toISOString() });
    localStorage.setItem('profitLogs', JSON.stringify(profitLogs));
    loadProfitLogs();
  };

  resetProfitBtn.onclick = () => {
    if(confirm('Reset profit logs?')) {
      localStorage.removeItem('profitLogs');
      profitResultDiv.textContent = '';
      loadProfitLogs();
    }
  };

  // EMPLOYEE DATABASE PAGE
  const employeeForm = document.getElementById('employeeForm');
  const employeeDBLog = document.getElementById('employeeDBLog');
  const resetEmployeeDBBtn = document.getElementById('resetEmployeeDBBtn');

  function loadEmployeeDB() {
    const employees = JSON.parse(localStorage.getItem('employeeDB') || '[]');
    employeeDBLog.innerHTML = employees.length === 0 ? '<i>No employees in database.</i>' : '';
    employees.forEach(({name, surname, gender, hireDate}) => {
      employeeDBLog.innerHTML += `<div class="log-entry">${name} ${surname} | Gender: ${gender} | Hired: ${new Date(hireDate).toLocaleDateString()}</div>`;
    });
  }

  employeeForm.onsubmit = e => {
    e.preventDefault();
    const name = document.getElementById('empName').value.trim();
    const surname = document.getElementById('empSurname').value.trim();
    const gender = document.getElementById('empGender').value;
    const hireDate = document.getElementById('empHireDate').value;

    if (!name || !surname || !gender || !hireDate) {
      alert('Please fill all fields');
      return;
    }

    const employees = JSON.parse(localStorage.getItem('employeeDB') || '[]');
    employees.push({ name, surname, gender, hireDate });
    localStorage.setItem('employeeDB', JSON.stringify(employees));

    employeeForm.reset();
    loadEmployeeDB();
    loadEmployeeSelect(); // Update payroll employee list
  };

  resetEmployeeDBBtn.onclick = () => {
    if(confirm('Reset employee database?')) {
      localStorage.removeItem('employeeDB');
      loadEmployeeDB();
      loadEmployeeSelect();
    }
  };

  // INITIAL LOADS
  loadSales();
  loadPayroll();
  loadExpenses();
  loadProfitLogs();
  loadEmployeeDB();
  loadEmployeeSelect();

</script>

</body>
</html>









